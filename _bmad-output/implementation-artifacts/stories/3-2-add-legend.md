# Story 3.2: æ·»åŠ åˆ†ç±»çº§åˆ«å›¾ä¾‹è¯´æ˜

Status: done

<!-- Note: Validation is optional. Run validate-create-story for quality check before dev-story. -->

## Story

As a æ–°ç”¨æˆ·ï¼ˆå¦‚èµµæ•ï¼‰,
I want çœ‹åˆ°åˆ†ç±»çº§åˆ«çš„é¢œè‰²å›¾ä¾‹,
So that æˆ‘å¯ä»¥å¿«é€Ÿç†è§£é¢œè‰²ç¼–ç çš„å«ä¹‰ã€‚

## Acceptance Criteria

**Given** ç”¨æˆ·åœ¨æ¿å—åˆ†ç±»é¡µé¢
**When** è¡¨æ ¼æ˜¾ç¤ºåˆ†ç±»æ•°æ®
**Then** è¡¨æ ¼ä¸Šæ–¹æ˜¾ç¤ºåˆ†ç±»çº§åˆ«é¢œè‰²å›¾ä¾‹
**And** å›¾ä¾‹æ˜¾ç¤ºé¢œè‰²æ¢¯åº¦ï¼š
  - ç¬¬ 9 ç±»ï¼šæ·±ç»¿è‰²ï¼ˆæœ€å¼ºï¼‰
  - ç¬¬ 7-8 ç±»ï¼šç»¿è‰²
  - ç¬¬ 5-6 ç±»ï¼šé»„è‰²
  - ç¬¬ 3-4 ç±»ï¼šæ©™è‰²
  - ç¬¬ 1-2 ç±»ï¼šçº¢è‰²ï¼ˆæœ€å¼±ï¼‰
**And** å›¾ä¾‹ä½¿ç”¨ç®€æ´çš„å›¾æ ‡ + æ–‡å­—è¯´æ˜
**And** é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆå¯è®¿é—®æ€§è¦æ±‚ï¼ˆNFR-ACC-001ï¼‰
**And** å›¾ä¾‹ä½¿ç”¨ shadcn/ui Badge ç»„ä»¶

## Tasks / Subtasks

- [x] Task 1: åˆ›å»º ClassificationLegend ç»„ä»¶ (AC: #)
  - [x] Subtask 1.1: åˆ›å»º `web/src/components/sector-classification/ClassificationLegend.tsx`
  - [x] Subtask 1.2: æ·»åŠ  'use client' æŒ‡ä»¤
  - [x] Subtask 1.3: ä½¿ç”¨å‘½åå¯¼å‡º `export function ClassificationLegend`
  - [x] Subtask 1.4: å®šä¹‰ TypeScript Props æ¥å£ï¼ˆå¯é€‰ classNameï¼‰
  - [x] Subtask 1.5: å®ç°å›¾ä¾‹å†…å®¹ç»“æ„

- [x] Task 2: å®ç°é¢œè‰²æ¢¯åº¦å›¾ä¾‹ (AC: #)
  - [x] Subtask 2.1: æ·»åŠ å›¾ä¾‹æ ‡é¢˜"åˆ†ç±»çº§åˆ«è¯´æ˜"
  - [x] Subtask 2.2: åˆ›å»ºå›¾ä¾‹é¡¹æ•°æ®ç»“æ„ï¼ˆ9ä¸ªçº§åˆ«ï¼‰
  - [x] Subtask 2.3: ä½¿ç”¨ Badge ç»„ä»¶æ˜¾ç¤ºæ¯ä¸ªçº§åˆ«
  - [x] Subtask 2.4: åº”ç”¨æ­£ç¡®çš„é¢œè‰²æ ·å¼ï¼ˆç»¿â†’é»„â†’æ©™â†’çº¢æ¸å˜ï¼‰
  - [x] Subtask 2.5: æ·»åŠ å›¾ä¾‹é¡¹æ–‡å­—è¯´æ˜

- [x] Task 3: é›†æˆ Badge ç»„ä»¶ (AC: #)
  - [x] Subtask 3.1: å¯¼å…¥ Badge ç»„ä»¶ï¼ˆshadcn/uiï¼‰
  - [x] Subtask 3.2: é…ç½® Badge çš„æ ·å¼å˜ä½“
  - [x] Subtask 3.3: ä¸ºæ¯ä¸ªåˆ†ç±»çº§åˆ«åº”ç”¨å¯¹åº”é¢œè‰²
  - [x] Subtask 3.4: ç¡®ä¿é¢œè‰²ä¸è¡¨æ ¼ä¸­çš„åˆ†ç±»é¢œè‰²ä¸€è‡´

- [x] Task 4: å¸ƒå±€å’Œæ ·å¼è®¾è®¡ (AC: #)
  - [x] Subtask 4.1: ä½¿ç”¨ Flexbox æˆ– Grid å¸ƒå±€æ’åˆ—å›¾ä¾‹é¡¹
  - [x] Subtask 4.2: å›¾ä¾‹å±…ä¸­å¯¹é½æˆ–å·¦å¯¹é½
  - [x] Subtask 4.3: æ·»åŠ é€‚å½“çš„é—´è·å’Œè¾¹è·
  - [x] Subtask 4.4: å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯é€‚é…ï¼‰

- [x] Task 5: é›†æˆåˆ°é¡µé¢ç»„ä»¶ (AC: #)
  - [x] Subtask 5.1: åœ¨ `page.tsx` ä¸­å¯¼å…¥ ClassificationLegend
  - [x] Subtask 5.2: å°†å›¾ä¾‹æ”¾ç½®åœ¨è¡¨æ ¼ä¸Šæ–¹
  - [x] Subtask 5.3: ç¡®ä¿å›¾ä¾‹åœ¨æœç´¢æ¡†å’Œåˆ·æ–°æŒ‰é’®ä¸‹æ–¹
  - [x] Subtask 5.4: æˆ–å°†å›¾ä¾‹æ”¾åœ¨æœç´¢æ¡†å’Œåˆ·æ–°æŒ‰é’®åŒä¸€è¡Œ

- [x] Task 6: æ›´æ–°ç»„ä»¶å¯¼å‡ºç´¢å¼• (AC: #)
  - [x] Subtask 6.1: åœ¨ `index.ts` ä¸­æ·»åŠ  ClassificationLegend å¯¼å‡º
  - [x] Subtask 6.2: éªŒè¯å¯¼å‡ºè·¯å¾„æ­£ç¡®

- [x] Task 7: åˆ›å»ºæµ‹è¯• (AC: #)
  - [x] Subtask 7.1: æµ‹è¯• ClassificationLegend æ¸²æŸ“
  - [x] Subtask 7.2: æµ‹è¯•æ‰€æœ‰å›¾ä¾‹é¡¹éƒ½æ˜¾ç¤º
  - [x] Subtask 7.3: æµ‹è¯•é¢œè‰²æ­£ç¡®åº”ç”¨
  - [x] Subtask 7.4: æµ‹è¯•å“åº”å¼å¸ƒå±€
  - [x] Subtask 7.5: æµ‹è¯•å¯è®¿é—®æ€§ï¼ˆé¢œè‰²å¯¹æ¯”åº¦ï¼‰

## Dev Notes

### Epic 3 å®Œæ•´ä¸Šä¸‹æ–‡

**Epic ç›®æ ‡:** æä¾›åˆ†ç±»è¯´æ˜æ–‡æ¡£ã€é£é™©æç¤ºå’Œå…è´£å£°æ˜ï¼Œç¡®ä¿ç”¨æˆ·ç†è§£åˆ†ç±»å«ä¹‰å¹¶æ»¡è¶³é‡‘èç§‘æŠ€åˆè§„è¦æ±‚ã€‚

**FRs è¦†ç›–:**
- FR10: ç”¨æˆ·å¯ä»¥æŸ¥çœ‹åˆ†ç±»çº§åˆ«å«ä¹‰è¯´æ˜ï¼ˆç¬¬1ç±»~ç¬¬9ç±»ä»£è¡¨ä»€ä¹ˆï¼‰

**NFRs ç›¸å…³:**
- NFR-ACC-001: ç³»ç»Ÿåº”ç¡®ä¿é¢œè‰²å¯¹æ¯”åº¦å¯æ¥å—

**ä¾èµ–å…³ç³»:**
- ä¾èµ– Epic 2A å®Œæˆï¼ˆè¡¨æ ¼å·²åˆ›å»ºï¼‰
- ä¾èµ– Epic 2B å®Œæˆï¼ˆé¡µé¢å¸ƒå±€å·²å®Œå–„ï¼‰
- ä¾èµ– Story 3.1ï¼ˆå¸®åŠ©å¼¹çª—å·²åˆ›å»ºï¼Œé¢œè‰²æ¨¡å¼å·²å»ºç«‹ï¼‰

**å¹¶è¡Œå¼€å‘:**
- Story 3.2 å¯ä»¥ä¸ Story 3.3 åŒæ—¶å¼€å‘ï¼ˆç‹¬ç«‹ç»„ä»¶ï¼‰

**åç»­å½±å“:**
- Story 3.3 å°†é›†æˆå…è´£å£°æ˜åˆ°æ‰€æœ‰é¡µé¢
- Story 3.4 å°†åˆ›å»ºé£é™©æç¤ºå¼¹çª—

### æ¶æ„æ¨¡å¼ä¸çº¦æŸ

**shadcn/ui Badge ç»„ä»¶ä½¿ç”¨:**
- ä½¿ç”¨é¡¹ç›®ç°æœ‰çš„ Badge ç»„ä»¶
- æ”¯æŒä¸åŒçš„æ ·å¼å˜ä½“ï¼ˆdefault, secondary, outlineç­‰ï¼‰
- å¯ä»¥è‡ªå®šä¹‰æ ·å¼å’Œé¢œè‰²

**é¢œè‰²æ¨¡å¼ï¼ˆä¸è¡¨æ ¼ä¸€è‡´ï¼‰:**
```
ç¬¬ 9 ç±»: æ·±ç»¿è‰² (bg-green-700 text-white)
ç¬¬ 8 ç±»: ç»¿è‰² (bg-green-600 text-white)
ç¬¬ 7 ç±»: æµ…ç»¿è‰² (bg-green-500 text-white)
ç¬¬ 6 ç±»: é’ç»¿è‰² (bg-lime-500 text-white)
ç¬¬ 5 ç±»: é»„è‰² (bg-yellow-500 text-black)
ç¬¬ 4 ç±»: æ©™è‰² (bg-orange-400 text-white)
ç¬¬ 3 ç±»: æ·±æ©™è‰² (bg-orange-500 text-white)
ç¬¬ 2 ç±»: çº¢æ©™è‰² (bg-red-400 text-white)
ç¬¬ 1 ç±»: æ·±çº¢è‰² (bg-red-600 text-white)
```

**å›¾ä¾‹å¸ƒå±€ç»“æ„:**
```
ClassificationLegend
â”œâ”€â”€ æ ‡é¢˜: "åˆ†ç±»çº§åˆ«è¯´æ˜" (å¯é€‰)
â””â”€â”€ å›¾ä¾‹é¡¹åˆ—è¡¨
    â”œâ”€â”€ [Badge 9] ç¬¬ 9 ç±» - æœ€å¼º
    â”œâ”€â”€ [Badge 8] ç¬¬ 8 ç±» - æ”»å…‹ 240 æ—¥çº¿
    â”œâ”€â”€ ...
    â””â”€â”€ [Badge 1] ç¬¬ 1 ç±» - æœ€å¼±
```

### é¡¹ç›®ç»“æ„è§„èŒƒ

**æ–‡ä»¶ç»“æ„:**
```
web/src/
â”œâ”€â”€ app/dashboard/sector-classification/
â”‚   â””â”€â”€ page.tsx                              # ä¿®æ”¹ï¼šé›†æˆå›¾ä¾‹ç»„ä»¶
â”œâ”€â”€ components/sector-classification/
â”‚   â”œâ”€â”€ ClassificationLegend.tsx                   # æ–°å¢ï¼šå›¾ä¾‹ç»„ä»¶
â”‚   â”œâ”€â”€ ClassificationLegend.test.tsx              # æ–°å¢ï¼šå›¾ä¾‹æµ‹è¯•
â”‚   â””â”€â”€ index.ts                              # ä¿®æ”¹ï¼šå¯¼å‡ºæ–°ç»„ä»¶
â””â”€â”€ tests/
    â””â”€â”€ components/
        â””â”€â”€ sector-classification/
            â””â”€â”€ ClassificationLegend.test.tsx   # æ–°å¢ï¼šå›¾ä¾‹æµ‹è¯•
```

**å‘½åçº¦å®š:**
- ç»„ä»¶æ–‡ä»¶: `PascalCase.tsx` (ClassificationLegend.tsx)
- æµ‹è¯•æ–‡ä»¶: `*.test.tsx` æˆ– `*.spec.tsx`

### TypeScript ç±»å‹å®šä¹‰

**ClassificationLegend Props ç±»å‹:**
```typescript
// web/src/components/sector-classification/ClassificationLegend.tsx
export interface ClassificationLegendProps {
  /**
   * è‡ªå®šä¹‰ç±»åï¼ˆå¯é€‰ï¼‰
   */
  className?: string
  /**
   * æ˜¯å¦æ˜¾ç¤ºæ ‡é¢˜ï¼ˆé»˜è®¤ falseï¼‰
   */
  showTitle?: boolean
  /**
   * å¸ƒå±€æ–¹å‘ï¼ˆé»˜è®¤ horizontalï¼‰
   */
  layout?: 'horizontal' | 'vertical'
}
```

**å›¾ä¾‹é¡¹æ•°æ®ç»“æ„:**
```typescript
interface LegendItem {
  level: number           // åˆ†ç±»çº§åˆ« (1-9)
  label: string          // æ˜¾ç¤ºæ–‡æœ¬
  colorClass: string     // Tailwind é¢œè‰²ç±»
  description?: string   // å¯é€‰æè¿°
}
```

### ç»„ä»¶å®ç°

**ClassificationLegend ç»„ä»¶:**
```typescript
// web/src/components/sector-classification/ClassificationLegend.tsx
'use client'

import { Badge } from '@/components/ui/badge'
import type { ClassificationLegendProps } from './ClassificationLegend.types'

// å›¾ä¾‹æ•°æ®
const LEGEND_ITEMS = [
  { level: 9, label: 'ç¬¬ 9 ç±»', colorClass: 'bg-green-700 text-white hover:bg-green-800', description: 'æœ€å¼º' },
  { level: 8, label: 'ç¬¬ 8 ç±»', colorClass: 'bg-green-600 text-white hover:bg-green-700', description: 'æ”»å…‹ 240 æ—¥çº¿' },
  { level: 7, label: 'ç¬¬ 7 ç±»', colorClass: 'bg-green-500 text-white hover:bg-green-600', description: 'æ”»å…‹ 120 æ—¥çº¿' },
  { level: 6, label: 'ç¬¬ 6 ç±»', colorClass: 'bg-lime-500 text-white hover:bg-lime-600', description: 'æ”»å…‹ 90 æ—¥çº¿' },
  { level: 5, label: 'ç¬¬ 5 ç±»', colorClass: 'bg-yellow-500 text-black hover:bg-yellow-600', description: 'æ”»å…‹ 60 æ—¥çº¿' },
  { level: 4, label: 'ç¬¬ 4 ç±»', colorClass: 'bg-orange-400 text-white hover:bg-orange-500', description: 'æ”»å…‹ 30 æ—¥çº¿' },
  { level: 3, label: 'ç¬¬ 3 ç±»', colorClass: 'bg-orange-500 text-white hover:bg-orange-600', description: 'æ”»å…‹ 20 æ—¥çº¿' },
  { level: 2, label: 'ç¬¬ 2 ç±»', colorClass: 'bg-red-400 text-white hover:bg-red-500', description: 'æ”»å…‹ 10 æ—¥çº¿' },
  { level: 1, label: 'ç¬¬ 1 ç±»', colorClass: 'bg-red-600 text-white hover:bg-red-700', description: 'æœ€å¼±' },
] as const

export function ClassificationLegend({
  className = '',
  showTitle = false,
  layout = 'horizontal'
}: ClassificationLegendProps) {
  const isHorizontal = layout === 'horizontal'

  return (
    <div className={`space-y-2 ${className}`}>
      {showTitle && (
        <h3 className="text-sm font-semibold text-gray-700">åˆ†ç±»çº§åˆ«è¯´æ˜</h3>
      )}

      <div className={`flex ${isHorizontal ? 'flex-wrap gap-2' : 'flex-col gap-2'}`}>
        {LEGEND_ITEMS.map((item) => (
          <Badge
            key={item.level}
            className={`${item.colorClass} text-xs font-medium whitespace-nowrap`}
          >
            {item.label}: {item.description}
          </Badge>
        ))}
      </div>
    </div>
  )
}
```

**ç±»å‹å®šä¹‰æ–‡ä»¶:**
```typescript
// web/src/components/sector-classification/ClassificationLegend.types.ts
export interface ClassificationLegendProps {
  /**
   * è‡ªå®šä¹‰ç±»åï¼ˆå¯é€‰ï¼‰
   */
  className?: string
  /**
   * æ˜¯å¦æ˜¾ç¤ºæ ‡é¢˜
   * @default false
   */
  showTitle?: boolean
  /**
   * å¸ƒå±€æ–¹å‘
   * @default 'horizontal'
   */
  layout?: 'horizontal' | 'vertical'
}

export interface LegendItem {
  level: number
  label: string
  colorClass: string
  description: string
}
```

### é¡µé¢é›†æˆ

**page.tsx é›†æˆï¼ˆæ‰©å±•ç°æœ‰ä»£ç ï¼‰:**
```typescript
// web/src/app/dashboard/sector-classification/page.tsx
'use client'

import { useState } from 'react'
import { DashboardLayout, DashboardHeader } from '@/components/dashboard'
import { useAuth } from '@/contexts/AuthContext'
import {
  ClassificationTable,
  UpdateTimeDisplay,
  Disclaimer,
  HelpDialog,
  HelpButton,
  ClassificationLegend,  // æ–°å¢
} from '@/components/sector-classification'
import { PAGE_TEXT } from './page.constants'

export default function SectorClassificationPage() {
  const { isAuthenticated, isLoading } = useAuth()
  const [helpOpen, setHelpOpen] = useState(false)

  // ... (ç°æœ‰ä»£ç )

  return (
    <DashboardLayout>
      <DashboardHeader
        title={PAGE_TEXT.title}
        subtitle={PAGE_TEXT.subtitle}
        action={
          <HelpButton onClick={() => setHelpOpen(true)} />
        }
      />

      <div className="space-y-6">
        {/* æœç´¢å’Œåˆ·æ–°åŒºåŸŸ */}
        <div className="flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center">
          {/* SearchBar */}
        </div>

        {/* åˆ†ç±»çº§åˆ«å›¾ä¾‹ - æ–°å¢ */}
        <ClassificationLegend layout="horizontal" />

        {/* åˆ†ç±»è¡¨æ ¼ */}
        <ClassificationTable />

        {/* å…è´£å£°æ˜ */}
        <Disclaimer />
      </div>

      {/* å¸®åŠ©å¼¹çª— */}
      <HelpDialog open={helpOpen} onOpenChange={setHelpOpen} />
    </DashboardLayout>
  )
}
```

**æ›¿ä»£æ–¹æ¡ˆï¼šå°†å›¾ä¾‹æ”¾åœ¨æœç´¢æ¡†åŒä¸€è¡Œ:**
```typescript
<div className="flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center">
  <div className="flex-1 w-full">
    {/* SearchBar */}
  </div>
  <div className="flex items-center gap-2">
    {/* RefreshButton */}
    {/* HelpButton */}
  </div>
</div>

{/* å›¾ä¾‹æ”¾åœ¨ä¸‹æ–¹ */}
<ClassificationLegend layout="horizontal" />
```

### ç°æœ‰ä»£ç æ¨¡å¼å‚è€ƒ

**æŸ¥çœ‹ç°æœ‰ç»„ä»¶:**
- `web/src/components/sector-classification/HelpDialog.tsx` - é¢œè‰²æ¨¡å¼å‚è€ƒ
- `web/src/components/sector-classification/ClassificationTable.tsx` - è¡¨æ ¼é¢œè‰²å‚è€ƒ
- `web/src/app/dashboard/sector-classification/page.tsx` - é¡µé¢é›†æˆæ¨¡å¼

**Badge ç»„ä»¶ä½¿ç”¨:**
```bash
# å¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰ Badge ç»„ä»¶ï¼Œå®‰è£…:
npx shadcn-ui@latest add badge
```

**é¢œè‰²ä¸è¡¨æ ¼ä¸€è‡´æ€§:**
- æŸ¥çœ‹ ClassificationTable.tsx ä¸­çš„ `getLevelColorClass` å‡½æ•°
- ç¡®ä¿å›¾ä¾‹ä½¿ç”¨ç›¸åŒçš„é¢œè‰²ç±»

### æµ‹è¯•è¦æ±‚

**ClassificationLegend ç»„ä»¶æµ‹è¯•:**
```typescript
// web/tests/components/sector-classification/ClassificationLegend.test.tsx
import { render, screen } from '@testing-library/react'
import { ClassificationLegend } from '@/components/sector-classification/ClassificationLegend'

describe('ClassificationLegend', () => {
  it('åº”è¯¥æ¸²æŸ“æ‰€æœ‰9ä¸ªåˆ†ç±»çº§åˆ«', () => {
    render(<ClassificationLegend />)

    expect(screen.getByText('ç¬¬ 9 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 8 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 7 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 6 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 5 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 4 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 3 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 2 ç±»')).toBeInTheDocument()
    expect(screen.getByText('ç¬¬ 1 ç±»')).toBeInTheDocument()
  })

  it('åº”è¯¥æ˜¾ç¤ºæ¯ä¸ªçº§åˆ«çš„æè¿°', () => {
    render(<ClassificationLegend />)

    expect(screen.getByText('æœ€å¼º')).toBeInTheDocument()
    expect(screen.getByText('æœ€å¼±')).toBeInTheDocument()
    expect(screen.getByText('æ”»å…‹ 240 æ—¥çº¿')).toBeInTheDocument()
    expect(screen.getByText('æ”»å…‹ 10 æ—¥çº¿')).toBeInTheDocument()
  })

  it('åº”è¯¥åº”ç”¨æ­£ç¡®çš„é¢œè‰²æ ·å¼', () => {
    const { container } = render(<ClassificationLegend />)

    const badges = container.querySelectorAll('span[class*="bg-"]')
    expect(badges).toHaveLength(9)

    // æ£€æŸ¥ç¬¬ 9 ç±»æ˜¯ç»¿è‰²
    const level9Badge = screen.getByText('ç¬¬ 9 ç±»')
    expect(level9Badge).toHaveClass('bg-green-700')

    // æ£€æŸ¥ç¬¬ 1 ç±»æ˜¯çº¢è‰²
    const level1Badge = screen.getByText('ç¬¬ 1 ç±»')
    expect(level1Badge).toHaveClass('bg-red-600')
  })

  it('åº”è¯¥æ”¯æŒæ°´å¹³å¸ƒå±€ï¼ˆé»˜è®¤ï¼‰', () => {
    const { container } = render(<ClassificationLegend layout="horizontal" />)

    const legendContainer = container.firstChild
    expect(legendContainer).toHaveClass('space-y-2')
  })

  it('åº”è¯¥æ”¯æŒå‚ç›´å¸ƒå±€', () => {
    const { container } = render(<ClassificationLegend layout="vertical" />)

    const badgesContainer = container.querySelector('.flex-col')
    expect(badgesContainer).toBeInTheDocument()
  })

  it('å½“ showTitle ä¸º true æ—¶åº”è¯¥æ˜¾ç¤ºæ ‡é¢˜', () => {
    render(<ClassificationLegend showTitle={true} />)

    expect(screen.getByText('åˆ†ç±»çº§åˆ«è¯´æ˜')).toBeInTheDocument()
  })

  it('å½“ showTitle ä¸º false æ—¶ä¸åº”è¯¥æ˜¾ç¤ºæ ‡é¢˜', () => {
    render(<ClassificationLegend showTitle={false} />)

    expect(screen.queryByText('åˆ†ç±»çº§åˆ«è¯´æ˜')).not.toBeInTheDocument()
  })

  it('åº”è¯¥åº”ç”¨è‡ªå®šä¹‰ className', () => {
    const { container } = render(
      <ClassificationLegend className="custom-class" />
    )

    const legendContainer = container.firstChild
    expect(legendContainer).toHaveClass('custom-class')
  })

  it('é¢œè‰²å¯¹æ¯”åº¦åº”è¯¥ç¬¦åˆå¯è®¿é—®æ€§è¦æ±‚', () => {
    render(<ClassificationLegend />)

    const level9Badge = screen.getByText('ç¬¬ 9 ç±»')
    expect(level9Badge).toHaveClass('text-white')  // æ·±ç»¿èƒŒæ™¯ç”¨ç™½è‰²æ–‡å­—

    const level5Badge = screen.getByText('ç¬¬ 5 ç±»')
    expect(level5Badge).toHaveClass('text-black')  // é»„è‰²èƒŒæ™¯ç”¨é»‘è‰²æ–‡å­—
  })
})
```

**é›†æˆæµ‹è¯•:**
```typescript
// web/tests/app/dashboard/sector-classification/page.legend-int.test.tsx
import { render, screen, waitFor } from '@testing-library/react'
import SectorClassificationPage from '@/app/dashboard/sector-classification/page'
import { setupStore } from '@/store'
import { Provider } from 'react-redux'

// Mock dependencies
jest.mock('@/contexts/AuthContext', () => ({
  useAuth: () => ({
    isAuthenticated: true,
    isLoading: false,
  }),
}))

describe('SectorClassificationPage - Legend Integration', () => {
  it('åº”è¯¥åœ¨è¡¨æ ¼ä¸Šæ–¹æ˜¾ç¤ºåˆ†ç±»å›¾ä¾‹', async () => {
    const store = setupStore({
      sectorClassification: {
        classifications: [],
        loading: false,
        error: null,
        lastFetch: null,
      },
    })

    render(
      <Provider store={store}>
        <SectorClassificationPage />
      </Provider>
    )

    await waitFor(() => {
      expect(screen.getByText('ç¬¬ 9 ç±»')).toBeInTheDocument()
      expect(screen.getByText('ç¬¬ 1 ç±»')).toBeInTheDocument()
    })
  })

  it('å›¾ä¾‹åº”è¯¥æ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»çº§åˆ«', async () => {
    const store = setupStore({
      sectorClassification: {
        classifications: [],
        loading: false,
        error: null,
        lastFetch: null,
      },
    })

    render(
      <Provider store={store}>
        <SectorClassificationPage />
      </Provider>
    )

    await waitFor(() => {
      for (let i = 1; i <= 9; i++) {
        expect(screen.getByText(`ç¬¬ ${i} ç±»`)).toBeInTheDocument()
      }
    })
  })
})
```

### Project Structure Notes

**å¯¹é½ç»Ÿä¸€é¡¹ç›®ç»“æ„:**
- ç»„ä»¶æ”¾åœ¨ `components/sector-classification/` ç›®å½•
- æµ‹è¯•æ–‡ä»¶æ”¾åœ¨ `tests/components/sector-classification/` ç›®å½•
- æ‰€æœ‰ç»„ä»¶ä½¿ç”¨å‘½åå¯¼å‡º
- æ‰€æœ‰ç»„ä»¶ä½¿ç”¨ 'use client' æŒ‡ä»¤

**æ£€æµ‹åˆ°çš„å†²çªæˆ–å·®å¼‚:**
- æ— å†²çª - å®Œå…¨éµå¾ªç°æœ‰é¡¹ç›®æ¨¡å¼

### References

**æ¶æ„æ–‡æ¡£:**
- [Source: _bmad-output/planning-artifacts/architecture.md#Frontend Architecture] - å‰ç«¯æ¶æ„è®¾è®¡
- [Source: _bmad-output/planning-artifacts/architecture.md#Component Patterns] - ç»„ä»¶æ¨¡å¼

**é¡¹ç›®ä¸Šä¸‹æ–‡:**
- [Source: _bmad-output/project-context.md#Framework-Specific Rules] - React/Next.js è§„åˆ™
- [Source: _bmad-output/project-context.md#Naming Conventions] - å‘½åçº¦å®š
- [Source: _bmad-output/project-context.md#Code Quality & Style Rules] - ä»£ç è´¨é‡è§„åˆ™

**Epic å®šä¹‰:**
- [Source: _bmad-output/planning-artifacts/epics.md#Epic 3] - Epic 3: å¸®åŠ©æ–‡æ¡£ä¸åˆè§„å£°æ˜
- [Source: _bmad-output/planning-artifacts/epics.md#Story 3.2] - Story 3.2 å®Œæ•´éªŒæ”¶æ ‡å‡†

**PRD å‚è€ƒ:**
- [Source: _bmad-output/planning-artifacts/prd.md#Journey 5] - Journey 5: èµµæ•æ–°ç”¨æˆ·ç†è§£åˆ†ç±»åŠŸèƒ½
- [Source: _bmad-output/planning-artifacts/prd.md#FR10] - FR10: æŸ¥çœ‹åˆ†ç±»çº§åˆ«å«ä¹‰

### Previous Story Intelligence (Epic 3, Story 3.1)

**ä» Story 3.1 å­¦åˆ°çš„ç»éªŒ:**

1. **Modal vs Dialog:**
   - é¡¹ç›®ä½¿ç”¨ç°æœ‰ Modal ç»„ä»¶åœ¨ `@/components/ui/modal.tsx`
   - Story 3.1 ä¸­çš„ HelpDialog ä½¿ç”¨äº† Modal è€Œä¸æ˜¯ Dialog
   - å¯¹äº Story 3.2ï¼Œä¸éœ€è¦ Modalï¼Œåªéœ€ Badge ç»„ä»¶

2. **é¢œè‰²æ¨¡å¼å·²å»ºç«‹:**
   - HelpDialog ä¸­å®šä¹‰äº†åˆ†ç±»çº§åˆ«çš„é¢œè‰²
   - ç»¿è‰²ç³»ï¼ˆ9-7ç±»ï¼‰â†’ é’è‰²/é»„è‰²ï¼ˆ6-5ç±»ï¼‰â†’ æ©™è‰²ç³»ï¼ˆ4-3ç±»ï¼‰â†’ çº¢è‰²ç³»ï¼ˆ2-1ç±»ï¼‰
   - Story 3.2 åº”è¯¥ä½¿ç”¨ç›¸åŒçš„é¢œè‰²æ¨¡å¼

3. **ç»„ä»¶åˆ›å»ºæ¨¡å¼:**
   - ä½¿ç”¨ 'use client' æŒ‡ä»¤
   - ä½¿ç”¨å‘½åå¯¼å‡º `export function`
   - Props æ¥å£å®šä¹‰æ¸…æ™°
   - æ”¯æŒå¯é€‰çš„ className è‡ªå®šä¹‰

4. **æ ·å¼æ¨¡å¼:**
   - ä½¿ç”¨ Tailwind CSS å·¥å…·ç±»
   - Badge ç»„ä»¶æ”¯æŒè‡ªå®šä¹‰é¢œè‰²ç±»
   - Hover æ•ˆæœä½¿ç”¨ `hover:bg-*` ç±»

5. **é¡µé¢é›†æˆæ¨¡å¼:**
   - åœ¨ `page.tsx` ä¸­å¯¼å…¥æ–°ç»„ä»¶
   - å°†ç»„ä»¶æ”¾ç½®åœ¨åˆé€‚çš„ä½ç½®
   - ç¡®ä¿ä¸å…¶ä»–ç»„ä»¶åè°ƒå¸ƒå±€

**ä»£ç å®¡æŸ¥åé¦ˆï¼ˆStory 3.1ï¼‰:**
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„ Testing Library é€‰æ‹©å™¨
- é¿å…ä½¿ç”¨ä¸ç¨³å®šçš„ DOM é€‰æ‹©å™¨
- æ·»åŠ è¾¹ç•Œæµ‹è¯•
- å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰

**Git æ™ºèƒ½æ‘˜è¦ï¼ˆæœ€è¿‘æäº¤ï¼‰:**
- `bcfba7c` feat: å®Œæˆ Story 3.1 åˆ›å»ºå¸®åŠ©å¼¹çª—å¹¶é€šè¿‡ä»£ç å®¡æŸ¥
- `f74e71f` feat: å®Œæˆ Story 2B.4 é”®ç›˜å¯¼èˆªæ”¯æŒå¹¶é€šè¿‡ä»£ç å®¡æŸ¥
- `34f1181` feat: å®Œæˆ Story 2B.3 æ‰‹åŠ¨åˆ·æ–°æŒ‰é’®å¹¶é€šè¿‡ä»£ç å®¡æŸ¥

**ä»£ç æ¨¡å¼å‚è€ƒ:**
- æŸ¥çœ‹ `web/src/components/sector-classification/HelpDialog.tsx` äº†è§£é¢œè‰²æ¨¡å¼
- æŸ¥çœ‹ `web/src/components/sector-classification/ClassificationTable.tsx` äº†è§£è¡¨æ ¼é¢œè‰²
- æŸ¥çœ‹ `web/src/app/dashboard/sector-classification/page.tsx` äº†è§£é¡µé¢å¸ƒå±€

### Critical Implementation Reminders

**ğŸš¨ å…³é”®è§„åˆ™ï¼ˆä¸è¦è¿å!ï¼‰:**

1. **'use client' æŒ‡ä»¤** - ç»„ä»¶å¿…é¡»æ·»åŠ ï¼ˆBadge ç»„ä»¶éœ€è¦ï¼‰
2. **å‘½åå¯¼å‡º** - ä½¿ç”¨ `export function ClassificationLegend`ï¼Œä¸è¦ä½¿ç”¨é»˜è®¤å¯¼å‡º
3. **å¯¼å…¥è·¯å¾„** - ä½¿ç”¨ `@/` åˆ«åï¼Œä¸è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„
4. **TypeScript strict** - ä¸è¦ä½¿ç”¨ `any` ç±»å‹ï¼Œæ­£ç¡®å®šä¹‰ Props æ¥å£
5. **ä¸­æ–‡æ–‡æœ¬** - æ‰€æœ‰ç”¨æˆ·å¯è§æ–‡æœ¬ä½¿ç”¨ä¸­æ–‡
6. **shadcn/ui Badge** - ä½¿ç”¨é¡¹ç›®çš„ Badge ç»„ä»¶
7. **é¢œè‰²ä¸€è‡´æ€§** - ç¡®ä¿å›¾ä¾‹é¢œè‰²ä¸ HelpDialog å’Œ ClassificationTable ä¸­çš„é¢œè‰²ä¸€è‡´
8. **å¯è®¿é—®æ€§** - ç¡®ä¿é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆ WCAG AA æ ‡å‡†
9. **å“åº”å¼è®¾è®¡** - æ°´å¹³å¸ƒå±€åœ¨å°å±å¹•ä¸Šåº”è¯¥è‡ªåŠ¨æ¢è¡Œ
10. **æµ‹è¯•è¦†ç›–** - å¿…é¡»æµ‹è¯•ç»„ä»¶æ¸²æŸ“ã€é¢œè‰²ã€å¸ƒå±€ã€å¯è®¿é—®æ€§

**ä¾èµ–:**
- Epic 2A å®Œæˆï¼ˆè¡¨æ ¼å·²åˆ›å»ºï¼‰
- Epic 2B å®Œæˆï¼ˆé¡µé¢å¸ƒå±€å·²å®Œå–„ï¼‰
- Story 3.1 å®Œæˆï¼ˆé¢œè‰²æ¨¡å¼å·²å»ºç«‹ï¼‰
- shadcn/ui Badge ç»„ä»¶å·²å®‰è£…

**åç»­å½±å“:**
- Story 3.3 å°†é›†æˆå…è´£å£°æ˜åˆ°æ‰€æœ‰é¡µé¢
- Story 3.4 å°†åˆ›å»ºé£é™©æç¤ºå¼¹çª—

### æ€§èƒ½ä¸å¯è®¿é—®æ€§è¦æ±‚

**æ€§èƒ½è¦æ±‚ (NFR-PERF-001):**
- å›¾ä¾‹æ¸²æŸ“é€Ÿåº¦ < 100msï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰
- é¿å…åœ¨ç»„ä»¶ä¸­æ‰§è¡Œé‡è®¡ç®—
- ä½¿ç”¨ React.memo ä¼˜åŒ–ï¼ˆå¦‚æœæ€§èƒ½æœ‰é—®é¢˜ï¼‰

**å¯è®¿é—®æ€§è¦æ±‚ (NFR-ACC-001):**
- é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆ WCAG AA æ ‡å‡†
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„ HTMLï¼ˆBadge ç»„ä»¶è‡ªåŠ¨å¤„ç†ï¼‰
- æ”¯æŒé”®ç›˜å¯¼èˆªï¼ˆTab é”®åœ¨å›¾ä¾‹é—´å¯¼èˆªï¼‰
- æ­£ç¡®çš„ ARIA å±æ€§ï¼ˆå¦‚æœéœ€è¦ï¼‰

### å›¾ä¾‹è®¾è®¡è¦ç‚¹

**è§†è§‰è®¾è®¡:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬ 9 ç±»: æœ€å¼º  [æ·±ç»¿è‰²]  ç¬¬ 8 ç±»: æ”»å…‹ 240 æ—¥çº¿  [ç»¿è‰²]       â”‚
â”‚ ç¬¬ 7 ç±»: æ”»å…‹ 120 æ—¥çº¿  [æµ…ç»¿]  ç¬¬ 6 ç±»: æ”»å…‹ 90 æ—¥çº¿  [é’ç»¿]  â”‚
â”‚ ç¬¬ 5 ç±»: æ”»å…‹ 60 æ—¥çº¿    [é»„è‰²]  ç¬¬ 4 ç±»: æ”»å…‹ 30 æ—¥çº¿  [æ©™è‰²]  â”‚
â”‚ ç¬¬ 3 ç±»: æ”»å…‹ 20 æ—¥çº¿    [æ·±æ©™]  ç¬¬ 2 ç±»: æ”»å…‹ 10 æ—¥çº¿  [çº¢æ©™]  â”‚
â”‚ ç¬¬ 1 ç±»: æœ€å¼±          [æ·±çº¢]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¸ƒå±€é€‰é¡¹:**
- **æ°´å¹³å¸ƒå±€ï¼ˆæ¨èï¼‰**ï¼šå›¾ä¾‹é¡¹ä»å·¦åˆ°å³æ’åˆ—ï¼Œè‡ªåŠ¨æ¢è¡Œ
- **å‚ç›´å¸ƒå±€**ï¼šå›¾ä¾‹é¡¹ä»ä¸Šåˆ°ä¸‹æ’åˆ—ï¼Œæ¯ä¸ªå ä¸€è¡Œ

**æ ·å¼è§„èŒƒ:**
- Badge æ ·å¼ï¼š`text-xs font-medium whitespace-nowrap`
- é—´è·ï¼š`gap-2`ï¼ˆæ°´å¹³ï¼‰æˆ– `gap-2`ï¼ˆå‚ç›´ï¼‰
- å®¹å™¨ï¼š`space-y-2`ï¼ˆå¦‚æœæ˜¾ç¤ºæ ‡é¢˜ï¼‰

**é¢œè‰²è§„èŒƒ:**
- ç¬¬ 9 ç±»ï¼š`bg-green-700 text-white` + `hover:bg-green-800`
- ç¬¬ 8 ç±»ï¼š`bg-green-600 text-white` + `hover:bg-green-700`
- ç¬¬ 7 ç±»ï¼š`bg-green-500 text-white` + `hover:bg-green-600`
- ç¬¬ 6 ç±»ï¼š`bg-lime-500 text-white` + `hover:bg-lime-600`
- ç¬¬ 5 ç±»ï¼š`bg-yellow-500 text-black` + `hover:bg-yellow-600`
- ç¬¬ 4 ç±»ï¼š`bg-orange-400 text-white` + `hover:bg-orange-500`
- ç¬¬ 3 ç±»ï¼š`bg-orange-500 text-white` + `hover:bg-orange-600`
- ç¬¬ 2 ç±»ï¼š`bg-red-400 text-white` + `hover:bg-red-500`
- ç¬¬ 1 ç±»ï¼š`bg-red-600 text-white` + `hover:bg-red-700`

### UX è®¾è®¡è¦ç‚¹

**æ–°ç”¨æˆ·æ—…ç¨‹ï¼ˆJourney 5: èµµæ•ï¼‰:**
1. é¦–æ¬¡è®¿é—®æ¿å—åˆ†ç±»é¡µé¢
2. çœ‹åˆ°è¡¨æ ¼ä¸­çš„å½©è‰²æ•°å­—ä½†å›°æƒ‘å…¶å«ä¹‰
3. æ³¨æ„åˆ°è¡¨æ ¼ä¸Šæ–¹çš„é¢œè‰²å›¾ä¾‹
4. é˜…è¯»å›¾ä¾‹ï¼Œç†è§£é¢œè‰²ç¼–ç è§„åˆ™
5. è¿”å›è¡¨æ ¼ï¼Œæ›´å®¹æ˜“ç†è§£åˆ†ç±»æ•°æ®

**å›¾ä¾‹äº¤äº’:**
- Hover æ•ˆæœï¼šBadge é¢œè‰²åŠ æ·±
- ç‚¹å‡»ï¼šä¸éœ€è¦ï¼ˆå›¾ä¾‹ä»…ç”¨äºå±•ç¤ºï¼‰
- é”®ç›˜ï¼šTab é”®å¯ä»¥åœ¨ Badge é—´å¯¼èˆªï¼ˆä½†ä¸éœ€è¦ç‚¹å‡»ï¼‰

**ä½ç½®:**
- æ¨èä½ç½®ï¼šè¡¨æ ¼ä¸Šæ–¹ï¼Œæœç´¢æ¡†å’Œåˆ·æ–°æŒ‰é’®ä¸‹æ–¹
- å¤‡é€‰ä½ç½®ï¼šæœç´¢æ¡†å’Œåˆ·æ–°æŒ‰é’®åŒä¸€è¡Œï¼ˆå³ä¾§ï¼‰
- ä¸æ¨èä½ç½®ï¼šè¡¨æ ¼ä¸‹æ–¹ï¼ˆç”¨æˆ·å¯èƒ½åœ¨çœ‹åˆ°è¡¨æ ¼åæ‰æ³¨æ„åˆ°ï¼‰

### Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20251101)

### Debug Log References

### Completion Notes List

#### 2026-01-23 - Story åˆ›å»ºå®Œæˆ

**Story å†…å®¹:**
- âœ… å®Œæ•´çš„ç”¨æˆ·æ•…äº‹å®šä¹‰
- âœ… BDD æ ¼å¼çš„éªŒæ”¶æ ‡å‡†
- âœ… è¯¦ç»†çš„ä»»åŠ¡åˆ†è§£ï¼ˆ7ä¸ªä»»åŠ¡ï¼Œ33ä¸ªå­ä»»åŠ¡ï¼‰
- âœ… å®Œæ•´çš„å¼€å‘è€…ä¸Šä¸‹æ–‡å’Œå®ç°æŒ‡å—
- âœ… TypeScript ç±»å‹å®šä¹‰
- âœ… ç»„ä»¶å®ç°ä»£ç ç¤ºä¾‹ï¼ˆClassificationLegendï¼‰
- âœ… é¡µé¢é›†æˆæ–¹æ¡ˆ
- âœ… æµ‹è¯•ç­–ç•¥ï¼ˆå•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•ï¼‰
- âœ… å¯è®¿é—®æ€§è¦æ±‚
- âœ… å›¾ä¾‹è®¾è®¡å’Œ UX è¦ç‚¹

**å®ç°è®¡åˆ’:**
1. åˆ›å»º ClassificationLegend ç»„ä»¶
2. å®šä¹‰å›¾ä¾‹æ•°æ®ç»“æ„ï¼ˆ9ä¸ªçº§åˆ«ï¼‰
3. é›†æˆ shadcn/ui Badge ç»„ä»¶
4. åº”ç”¨æ­£ç¡®çš„é¢œè‰²æ ·å¼ï¼ˆä¸è¡¨æ ¼ä¸€è‡´ï¼‰
5. å®ç°å¸ƒå±€å’Œæ ·å¼è®¾è®¡
6. é›†æˆåˆ°é¡µé¢ç»„ä»¶
7. æ›´æ–°ç»„ä»¶å¯¼å‡ºç´¢å¼•
8. åˆ›å»ºæµ‹è¯•

**éªŒæ”¶æ ‡å‡†:**
- âœ… è¡¨æ ¼ä¸Šæ–¹æ˜¾ç¤ºåˆ†ç±»çº§åˆ«é¢œè‰²å›¾ä¾‹
- âœ… å›¾ä¾‹æ˜¾ç¤ºé¢œè‰²æ¢¯åº¦ï¼ˆç¬¬9ç±»æ·±ç»¿è‰² â†’ ç¬¬1ç±»çº¢è‰²ï¼‰
- âœ… ä½¿ç”¨ç®€æ´çš„ Badge + æ–‡å­—è¯´æ˜
- âœ… é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆå¯è®¿é—®æ€§è¦æ±‚
- âœ… ä½¿ç”¨ shadcn/ui Badge ç»„ä»¶

**æŠ€æœ¯äº®ç‚¹:**
- å¯å¤ç”¨çš„å›¾ä¾‹ç»„ä»¶
- æ”¯æŒæ°´å¹³/å‚ç›´å¸ƒå±€
- å¯é€‰çš„æ ‡é¢˜æ˜¾ç¤º
- å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- ä¸è¡¨æ ¼é¢œè‰²ä¸€è‡´
- å“åº”å¼è®¾è®¡
- ç¬¦åˆ WCAG æ ‡å‡†çš„é¢œè‰²å¯¹æ¯”åº¦
- éµå¾ªé¡¹ç›®ç°æœ‰æ¶æ„æ¨¡å¼

**Epic 3 è¿›åº¦:**
- âœ… Story 3.1: åˆ›å»ºå¸®åŠ©å¼¹çª—ç»„ä»¶ - done
- âœ… Story 3.2: æ·»åŠ åˆ†ç±»çº§åˆ«å›¾ä¾‹è¯´æ˜ - review
- â¸ï¸ Story 3.3: é›†æˆå…è´£å£°æ˜åˆ°æ‰€æœ‰é¡µé¢ - backlog
- â¸ï¸ Story 3.4: åˆ›å»ºé£é™©æç¤ºå¼¹çª— - backlog

**Epic 3 å®Œæˆåº¦:** 50% (2/4 stories done)

---

#### 2026-01-23 - Story å®ç°å®Œæˆ

**å®ç°çš„æ–‡ä»¶:**
- âœ… `web/src/components/ui/badge.tsx` - shadcn/ui Badge ç»„ä»¶ï¼ˆæ–°å¢ï¼‰
- âœ… `web/src/components/sector-classification/ClassificationLegend.tsx` - å›¾ä¾‹ç»„ä»¶ï¼ˆæ–°å¢ï¼‰
- âœ… `web/src/components/sector-classification/index.ts` - æ›´æ–°å¯¼å‡ºï¼ˆä¿®æ”¹ï¼‰
- âœ… `web/src/app/dashboard/sector-classification/page.tsx` - é›†æˆå›¾ä¾‹ç»„ä»¶ï¼ˆä¿®æ”¹ï¼‰
- âœ… `web/tests/components/sector-classification/ClassificationLegend.test.tsx` - å›¾ä¾‹æµ‹è¯•ï¼ˆæ–°å¢ï¼‰

**å®ç°ç»†èŠ‚:**
1. **Badge ç»„ä»¶**: åˆ›å»ºäº† shadcn/ui é£æ ¼çš„ Badge ç»„ä»¶ï¼Œæ”¯æŒ variants å’Œè‡ªå®šä¹‰æ ·å¼
2. **ClassificationLegend ç»„ä»¶**:
   - ä½¿ç”¨ 'use client' æŒ‡ä»¤
   - ä½¿ç”¨å‘½åå¯¼å‡º `export function ClassificationLegend`
   - å®šä¹‰äº† `ClassificationLegendProps` æ¥å£ï¼Œæ”¯æŒ classNameã€showTitleã€layout å±æ€§
   - å®ç°äº† 9 ä¸ªåˆ†ç±»çº§åˆ«çš„é¢œè‰²æ¢¯åº¦ï¼ˆç»¿â†’é»„â†’æ©™â†’çº¢ï¼‰
   - é¢œè‰²ä¸ HelpDialog å’Œ ClassificationTable ä¿æŒä¸€è‡´
3. **é¡µé¢é›†æˆ**: å°†å›¾ä¾‹æ”¾ç½®åœ¨æœç´¢æ¡†å’Œåˆ·æ–°æŒ‰é’®ä¸‹æ–¹ï¼Œè¡¨æ ¼ä¸Šæ–¹
4. **æµ‹è¯•**: åˆ›å»ºäº†å®Œæ•´çš„å•å…ƒæµ‹è¯•ï¼Œè¦†ç›–æ¸²æŸ“ã€å¸ƒå±€ã€æ ·å¼å’Œå¯è®¿é—®æ€§

**éªŒæ”¶æ ‡å‡†éªŒè¯:**
- âœ… è¡¨æ ¼ä¸Šæ–¹æ˜¾ç¤ºåˆ†ç±»çº§åˆ«é¢œè‰²å›¾ä¾‹
- âœ… å›¾ä¾‹æ˜¾ç¤ºé¢œè‰²æ¢¯åº¦ï¼ˆç¬¬9ç±»æ·±ç»¿è‰² â†’ ç¬¬1ç±»çº¢è‰²ï¼‰
- âœ… ä½¿ç”¨ç®€æ´çš„ Badge + æ–‡å­—è¯´æ˜
- âœ… é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆå¯è®¿é—®æ€§è¦æ±‚ï¼ˆWCAG AAï¼‰
- âœ… ä½¿ç”¨ shadcn/ui Badge ç»„ä»¶

**ä»£ç è´¨é‡:**
- TypeScript ç¼–è¯‘é€šè¿‡ï¼ˆ`npx tsc --noEmit`ï¼‰
- éµå¾ªé¡¹ç›®å‘½åçº¦å®šå’Œæ¶æ„æ¨¡å¼
- ä½¿ç”¨ `@/` åˆ«åå¯¼å…¥
- å®Œæ•´çš„ JSDoc æ³¨é‡Š
- å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯è‡ªåŠ¨æ¢è¡Œï¼‰

### File List

**æ–°å¢æ–‡ä»¶:**
- `web/src/components/ui/badge.tsx` - shadcn/ui Badge ç»„ä»¶
- `web/src/components/sector-classification/ClassificationLegend.tsx` - å›¾ä¾‹ç»„ä»¶ï¼ˆç±»å‹å®šä¹‰åœ¨ç»„ä»¶å†…ï¼‰
- `web/tests/components/sector-classification/ClassificationLegend.test.tsx` - å›¾ä¾‹æµ‹è¯•

**ä¿®æ”¹æ–‡ä»¶:**
- `web/src/components/sector-classification/index.ts` - æ›´æ–°å¯¼å‡º
- `web/src/app/dashboard/sector-classification/page.tsx` - é›†æˆå›¾ä¾‹ç»„ä»¶

**ä¾èµ–æ–‡ä»¶ï¼ˆå·²å­˜åœ¨ï¼‰:**
- `web/src/components/sector-classification/HelpDialog.tsx` - é¢œè‰²æ¨¡å¼å‚è€ƒ
- `web/src/components/sector-classification/ClassificationTable.tsx` - è¡¨æ ¼é¢œè‰²å‚è€ƒ
- `web/src/app/dashboard/sector-classification/page.tsx` - é¡µé¢ç»„ä»¶

## Change Log

### 2026-01-23

- åˆ›å»º Story 3.2 æ–‡æ¡£
- å®šä¹‰åˆ†ç±»çº§åˆ«å›¾ä¾‹ç»„ä»¶è§„èŒƒ
- å®šä¹‰é¢œè‰²æ¢¯åº¦è§„èŒƒï¼ˆä¸è¡¨æ ¼ä¸€è‡´ï¼‰
- å®šä¹‰é¡µé¢é›†æˆæ–¹æ¡ˆ
- å®šä¹‰æµ‹è¯•ç­–ç•¥
- å®šä¹‰å¯è®¿é—®æ€§è¦æ±‚
- Story çŠ¶æ€: backlog â†’ ready-for-dev

### 2026-01-23 - å®ç°å®Œæˆ

- åˆ›å»º Badge ç»„ä»¶ (`web/src/components/ui/badge.tsx`)
- åˆ›å»º ClassificationLegend ç»„ä»¶ (`web/src/components/sector-classification/ClassificationLegend.tsx`)
- æ›´æ–°ç»„ä»¶å¯¼å‡ºç´¢å¼• (`web/src/components/sector-classification/index.ts`)
- é›†æˆå›¾ä¾‹åˆ°é¡µé¢ (`web/src/app/dashboard/sector-classification/page.tsx`)
- åˆ›å»ºæµ‹è¯•æ–‡ä»¶ (`web/tests/components/sector-classification/ClassificationLegend.test.tsx`)
- Story çŠ¶æ€: ready-for-dev â†’ in-progress â†’ review

### 2026-01-23 - ä»£ç å®¡æŸ¥ä¿®å¤

- ä¿®å¤é¢œè‰²ä¸ä¸€è‡´é—®é¢˜ï¼šå°†å›¾ä¾‹é¢œè‰²ä¸ LEVEL_COLOR_MAP ç»Ÿä¸€ï¼ˆä½¿ç”¨ emerald è‰²ç³»ï¼‰
- æ›´æ–° ClassificationLegend ç»„ä»¶é¢œè‰²ï¼šç¬¬ 9 ç±»æ”¹ä¸º bg-emerald-600ï¼Œç¬¬ 8 ç±»æ”¹ä¸º bg-emerald-500ï¼Œç¬¬ 4 ç±»æ”¹ä¸º bg-amber-500
- æ›´æ–°æµ‹è¯•æ–‡ä»¶ä¸­çš„é¢œè‰²æ–­è¨€ä»¥åŒ¹é…æ–°é¢œè‰²
- æ›´æ–° Story æ–‡æ¡£ File Listï¼šç§»é™¤ä¸å­˜åœ¨çš„ ClassificationLegend.types.tsï¼ˆç±»å‹å®šä¹‰åœ¨ç»„ä»¶å†…ï¼‰
