---
stepsCompleted: ['step-01-init', 'step-02-discovery', 'step-03-success', 'step-04-journeys', 'step-05-domain', 'step-06-innovation', 'step-07-project-type', 'step-08-scoping', 'step-09-functional', 'step-10-nonfunctional', 'step-11-polish']
inputDocuments:
  - 'docs/prd.md'
  - 'docs/architecture.md'
workflowType: 'prd'
lastStep: 11
project_name: 'sector-strenth'
user_name: 'Mark'
date: '2026-01-19'
prd_version: '1.1'
communication_language: 'Mandarin'
document_output_language: 'Mandarin'
classification:
  projectType: 'web_app_feature'
  domain: 'fintech'
  complexity: 'high'
  projectContext: 'brownfield'
---

# Product Requirements Document - sector-strenth (新功能：板块强弱分类)

**Author:** Mark
**Date:** 2026-01-19
**Version:** 1.1

---

## Executive Summary

### 产品愿景

为现有**股票市场板块强弱指标系统**添加新功能：**板块强弱分类**（基于缠中说禅理论）。

本功能根据板块当前价格相对于8条均线（5、10、20、30、60、90、120、240天）的位置，将板块分为9个强弱类别，帮助投资者快速识别市场板块强弱分布，把握板块轮动节奏。

### 核心价值

- **数据驱动决策**：通过缠论均线分类系统替代主观判断
- **快速识别机会**：一目了然的板块强弱分类（第1类~第9类）
- **轮动洞察**：结合反弹/调整状态判断，把握市场节奏

### 目标用户

- 主要用户：关注中国股市的个人投资者和交易员
- 管理用户：系统管理员（负责配置和维护）

### What Makes This Special

1. **缠论理论系统化**：将缠中说禅板块强弱分类理论系统化实现
2. **简洁直观**：9类分类清晰易懂，新手也能快速理解
3. **轻量集成**：作为现有系统的新增功能，无缝集成

### 项目分类

**技术类型：** Web 应用功能扩展
**领域：** 金融科技
**复杂度：** 高
**项目上下文：** 棕地项目（现有系统添加新功能）

---

## Success Criteria

### User Success

**核心价值实现：**
- 用户能在 **10秒内** 理解板块分类的含义
- 分类结果与实际走势一致性 > **85%**

**关键使用场景成功：**
- 用户能快速识别市场板块的强弱分布
- 用户能找到符合缠论买入/卖出条件的板块

### Business Success

**短期目标（1个月）：**
- 功能上线后 **1个月内** 被至少 **50%** 的活跃用户使用
- 不影响现有系统性能和稳定性

**业务健康度指标：**
- 用户反馈问题响应时间 < **24小时**

### Technical Success

**性能指标：**
- 分类计算响应时间 < **200ms**
- 页面加载时间 < **2秒**

**可靠性指标：**
- 数据准确率 = **100%**（严格按照缠论逻辑）
- 分类算法正确性 = **100%**

### Measurable Outcomes

| 指标类别 | 具体指标 | 目标值 | 测量方式 |
|---------|---------|-------|---------|
| 用户体验 | 理解分类含义时间 | < 10秒 | 用户测试 |
| 用户体验 | 分类结果一致性 | > 85% | 人工验证 |
| 业务价值 | 活跃用户使用率 | > 50% | 用户行为分析 |
| 系统性能 | 分类计算响应时间 | < 200ms | 性能监控 |
| 数据质量 | 数据准确率 | = 100% | 代码审查 + 测试 |

---

## Product Scope

### MVP - Minimum Viable Product

**核心功能（必须实现）：**
1. 板块强弱分类算法（基于8条均线）
2. 反弹/调整状态判断（当前 vs 5天前）
3. 板块强弱分类页面：
   - 显示所有板块及其分类（第1类 ~ 第9类）
   - 按分类排序
   - 按板块名称搜索
   - 显示板块基础信息（当前价格、涨跌幅）

**数据范围：**
- 现有板块数据
- 8条均线（5, 10, 20, 30, 60, 90, 120, 240）

**技术范围：**
- 后端分类算法实现
- 前端页面实现
- API 接口

### Growth Features (Post-MVP)

**增强功能（MVP 后）：**
1. 个股强弱分类（后续扩展）
2. 历史分类趋势图表
3. 分类变化预警
4. 板块内成分股分类分布

### Vision (Future)

**未来愿景：**
1. 基于分类的板块轮动预测
2. 自动生成分类分析报告
3. 与现有强度评分的融合分析

---

## User Journeys

### Journey 1: 李明 - 发现缠论分类的个人投资者

**背景故事：**
李明是一名 35 岁的软件工程师，业余时间投资 A 股已有 3 年。他最近学习了缠中说禅理论，对均线分类很感兴趣，但手动计算太耗时。他发现系统新增了"板块强弱分类"功能，决定试试。

**旅程叙事：**
一个周四晚上，李明登录系统，发现导航栏多了"板块强弱分类"选项。他点击进入，看到页面清晰地列出了所有板块，每个板块旁边显示着一个数字（第1类 ~ 第9类）。

李明注意到"新能源"板块显示"第7类"，页面说明这是"反弹状态，已攻克90日线"。他心中一亮——这正是缠论中说的强势板块！他回忆起缠论原文："一旦一个趋势级别的走势在N类上出现顶背驰，就可以先出来一下"。

第二天（周五）开盘，李明注意到新能源板块确实领涨。他按照缠论思路，在第7类位置进行了短线操作。收盘后，他再次查看分类，发现新能源已经升级到"第8类"——攻克了120日线。

"这个分类太准了！"李明感叹道。从此，他每天收盘后都会查看板块强弱分类，将其与缠论的其他分析工具结合使用。

**关键触点：**
- 登录系统 → 发现新功能 → 查看板块分类 → 理解分类含义 → 实际操作验证 → 形成习惯
- 情感状态：好奇 → 顿悟 → 惊喜 → 信任

**需求揭示：**
- 清晰的分类说明（第1类~第9类代表什么）
- 反弹/调整状态标识
- 实时更新数据

---

### Journey 2: 张伟 - 利用分类的日内交易员

**背景故事：**
张伟是一名全职日内交易员，对缠论有深入研究。他需要一个能快速反映市场状态的工具。

**旅程叙事：**
上午 9:25，集合竞价刚结束，张伟打开"板块强弱分类"页面。页面快速加载（< 2秒），他一眼就看到"半导体"板块显示"第9类"——最强状态！

"第9类，所有均线都攻克了，但要注意顶背驰..."张伟心里默念缠论原则。他设置了监控，一旦半导体板块出现顶背驰信号就准备减仓。

盘中 10:30，半导体板块涨幅已达 3%，与分类预测一致。张伟果断买入龙头股。下午 1:30，他注意到分类虽然没有变化，但部分成分股开始乏力——这是他熟悉的信号。

下午 2:40，张伟止盈离场。

**关键触点：**
- 快速加载页面 → 识别强势板块 → 监控信号 → 交易决策 → 止盈离场
- 情感状态：高效 → 警惕 → 果断

**需求揭示：**
- 极快的页面加载速度（< 2秒）
- 实时数据更新
- 分类与涨跌幅的关联展示

---

### Journey 3: 王芳 - 配置分类参数的管理员

**背景故事：**
王芳是系统的管理员，负责新功能的配置和监控。

**旅程叙事：**
周一上午，王芳收到通知："板块强弱分类"功能已上线。她登录管理员控制台，看到新增的"分类配置"选项。

她点击进入，看到分类参数配置界面：
- 均线周期：5, 10, 20, 30, 60, 90, 120, 240 ✓（已确认）
- 判断基准天数：5 ✓（已确认）
- 分类数量：9类 ✓（已确认）

"参数都正确，"王芳确认道。她点击"测试分类算法"按钮，系统显示正在计算...结果显示"计算完成，15个板块分类正常"。

**关键触点：**
- 功能上线通知 → 管理员登录 → 配置验证 → 算法测试 → 监控确认
- 情感状态：谨慎 → 自信

**需求揭示：**
- 管理员配置界面
- 分类算法测试功能
- 运行状态监控

---

### Journey 4: 陈刚 - 处理分类异常的管理员

**背景故事：**
陈刚是系统的兼职管理员，负责处理数据问题和异常。

**旅程叙事：**
周三上午，用户反馈："银行板块分类显示为'第0类'，这是什么意思？"

陈刚立即登录管理员控制台，查看"分类监控"面板。他发现银行板块的均线数据异常——240日均线数据缺失，导致分类算法无法正常计算。

"问题找到了，"陈刚判断道。他点击"数据管理"，选择"按时间段拉取"，输入银行板块代码和最近7天的时间范围，勾选"覆盖已有数据"。

10分钟后，数据重新拉取完成。陈刚刷新前端页面，银行板块正确显示为"第5类"。他记录了这次问题处理过程到操作日志。

**关键触点：**
- 问题发现 → 查看监控 → 诊断原因 → 数据修复 → 验证结果 → 记录日志
- 情感状态：担忧 → 专注 → 满意

**需求揭示：**
- 分类异常检测
- 明确的错误提示
- 数据覆盖修复能力
- 操作审计日志

---

### Journey 5: 赵敏 - 新用户理解分类功能

**背景故事：**
赵敏是一名刚入市的新手投资者，对缠论一无所知。她发现系统新增了分类功能，想学习使用。

**旅程叙事：**
赵敏点击"板块强弱分类"页面，看到满屏的数字（第1类~第9类），一脸茫然："这些数字是什么意思？"

她注意到页面右上角有个"?"帮助图标，点击后弹出简短说明：

> **板块强弱分类说明**
>
> 根据板块当前价格相对于不同均线的位置，将板块分为9类：
> - **第9类**：最强，价格在所有均线上方
> - **第8类**：攻克240日线
> - **第7类**：攻克120日线
> - ...依次类推...
> - **第1类**：最弱，价格在所有均线下方
>
> **反弹/调整状态**：
> - 反弹：当前价格高于5天前
> - 调整：当前价格低于5天前

赵敏豁然开朗："原来是这样！"她开始探索页面，点击分类排序，发现第9类板块果然涨幅最大。

一周后，赵敏养成了每天查看分类的习惯。

**关键触点：**
- 首次使用 → 困惑 → 点击帮助 → 理解含义 → 探索功能 → 形成习惯
- 情感状态：困惑 → 顿悟 → 兴奋

**需求揭示：**
- 清晰的帮助文档/说明
- 直观的分类解释
- 新手友好的界面设计

---

### Journey 6: 开发者小明 - 集成分类API

**背景故事：**
小明是一名开发者，想要在自己的交易策略系统中集成板块分类数据。

**旅程叙事：**
小明登录开发者控制台，查看API文档。他找到了"板块强弱分类"API接口：

```
GET /api/sector-classification
```

他使用 Postman 测试接口，返回数据格式清晰：

```json
{
  "sectors": [
    {
      "code": "BK0001",
      "name": "新能源",
      "classification": 7,
      "state": "反弹",
      "current_price": 1250.50,
      "change_percent": 2.35
    }
  ]
}
```

"数据格式很好，"小明满意地说道。他在自己的系统中集成了这个API，每5分钟调用一次获取最新分类数据。

**关键触点：**
- 查看API文档 → 测试接口 → 集成开发 → 验证结果 → 上线使用
- 情感状态：好奇 → 满意

**需求揭示：**
- RESTful API 接口
- 清晰的数据格式
- API 文档
- 接口性能要求（< 200ms）

---

### Journey Requirements Summary

基于以上用户旅程，系统需要支持以下核心能力：

**普通投资者能力：**
1. 板块强弱分类查看
2. 分类说明/帮助文档
3. 按分类排序和搜索
4. 板块基础信息展示

**管理员能力：**
1. 分类参数配置
2. 分类算法测试
3. 运行状态监控
4. 分类异常处理
5. 操作审计日志

**开发者能力：**
1. RESTful API 接口
2. API 文档
3. 清晰的数据格式

**系统级能力：**
1. 快速页面加载（< 2秒）
2. 实时数据更新
3. 分类算法准确性（100%）
4. 明确的错误提示

---

## Domain-Specific Requirements

### 合规与监管

**数据责任界定：**
- 明确"板块强弱分类"功能仅提供数据分析工具，不构成投资建议
- 保留现有的免责声明和风险提示机制
- 所有分类结果页面必须标注"数据仅供参考，不构成投资建议"

**内容合规性：**
- 分类结果展示需标注"仅供参考，不构成投资建议"
- 避免对分类结果进行盈利预测或保证收益的表述
- 不推荐具体买入/卖出操作，仅提供客观数据分类

### 技术约束

**数据准确性要求：**
- 分类算法必须严格遵循缠论逻辑（100% 正确性）
- 均线数据缺失时，必须明确提示错误而非模糊显示（如"第0类"）
- 分类计算结果必须可追溯和验证

**性能约束：**
- 分类计算响应时间 < 200ms
- 页面加载时间 < 2秒
- 支持实时数据更新（每5分钟自动刷新）

**安全性要求：**
- 用户认证和授权（继承现有系统）
- 操作审计日志（管理员操作记录）
- 数据加密传输（HTTPS/TLS）

### 集成要求

**系统集成：**
- 与现有数据库集成（板块、日线数据、均线数据）
- 与现有用户认证系统集成
- 与现有管理员功能集成
- 与现有数据更新流程集成

**数据流集成：**
- 从现有日线数据表读取价格数据
- 从现有均线数据表读取均线值
- 计算结果存储到分类结果表
- API 接口遵循现有 REST 架构

### 风险缓解

| 风险 | 缓解措施 |
|------|----------|
| 数据源错误（均线数据缺失/异常） | 数据验证、异常检测、明确错误提示 |
| 算法错误（分类逻辑不正确） | 单元测试覆盖率 > 90%、人工验证测试用例 |
| 用户误解（误认为投资建议） | 清晰的帮助文档、免责声明、风险提示 |
| 性能问题（计算/加载慢） | 异步计算、缓存机制、性能监控 |
| 合规风险（被认定为投资建议） | 明确工具定位、免责声明、避免推荐性表述 |

### 质量保证

**测试要求：**
- 单元测试：分类算法逻辑测试覆盖率 > 90%
- 集成测试：与现有系统集成测试
- 人工验证：分类结果与缠论原文逻辑对比验证
- 性能测试：响应时间和并发测试

**监控要求：**
- 分类计算性能监控（响应时间、错误率）
- 数据质量监控（均线数据完整性）
- 用户使用情况监控（页面访问量、API调用量）

---

## Web Application Specific Requirements

### Web Application Overview

这是在现有 Next.js + FastAPI 单页应用上添加新路由页面，用于展示板块强弱分类功能。作为棕地项目的新功能，需要无缝集成到现有系统中，复用现有架构和组件。

### Technical Architecture Considerations

**前端架构：**
- **路由**：新增 `/sector-classification` 路由
- **状态管理**：复用现有 Zustand store，扩展分类相关状态
- **数据获取**：使用现有 API 客户端模式（axios/fetch）
- **UI 组件**：复用 shadcn/ui 组件库和 Tailwind CSS 样式系统
- **页面结构**：复用现有布局组件（导航栏、侧边栏）

**后端架构：**
- **API 端点**：新增 `GET /api/sector-classification`
- **认证**：复用现有 JWT 认证中间件和 RBAC 权限系统
- **数据库**：使用现有 PostgreSQL 连接和 SQLAlchemy ORM
- **分类计算**：新增独立服务模块 `sector_classification_service.py`
- **数据模型**：新增分类结果表或扩展现有表结构

**集成要点：**
- 前端导航菜单添加"板块强弱分类"入口
- 后端路由注册到 FastAPI 应用
- 分类计算服务集成到现有数据更新流程
- 遵循现有错误处理和日志记录模式

### Responsive Design Requirements

**目标设备：**
- **桌面**：1920x1080（主要目标，完整功能）
- **笔记本**：1366x768（完整功能）
- **平板**：1024x768（基础支持，可能需要横向滚动）
- **手机**：375x667（可选，最低限度支持）

**布局适配：**
- 桌面：表格形式展示所有板块分类
- 平板：表格可能需要横向滚动
- 手机：单列卡片布局（可选，MVP 后考虑）

### Performance Targets

**加载性能：**
| 指标 | 目标值 | 测量方式 |
|------|--------|----------|
| 首屏加载（FCP） | < 1.5秒 | Lighthouse |
| 可交互时间（TTI） | < 3秒 | Lighthouse |
| 路由切换 | < 500ms | Performance API |
| API 响应（p95） | < 200ms | 后端监控 |

**渲染性能：**
- 表格渲染：100 行数据 < 500ms
- 分类计算：15 个板块 < 200ms
- 搜索/排序响应：实时（< 100ms）

### SEO Strategy

**SEO 策略：不需要 SEO**

**理由：**
- 系统为内部使用工具，需要用户登录
- 数据仅供注册用户查看
- 不需要搜索引擎收录

**技术实现：**
- 使用 SPA 模式，不启用 SSR
- robots.txt：Disallow 所有爬虫

### Accessibility Level

**可访问性：基本可用性**

**标准做法：**
- 遵循基本的 Web 可用性原则
- 确保颜色对比度可接受
- 提供键盘导航支持
- 表单元素有明确的 label
- 错误提示清晰可见

**最小化实现：**
- 语义化 HTML（使用正确的标签）
- 表格有表头（th 元素）
- 按钮有清晰的文本标签
- 不需要屏幕阅读器支持
- 不需要 WCAG 标准

### Implementation Considerations

**复用现有模式：**

**前端复用：**
- 页面布局模板（Header, Sidebar, Footer）
- API 调用封装（api client）
- 错误处理组件（ErrorBoundary, 错误提示）
- 加载状态组件（Skeleton, Spinner）
- 表格组件（如果存在）

**后端复用：**
- 用户认证中间件（JWT, RBAC）
- 数据库连接池（PostgreSQL）
- ORM 模式（SQLAlchemy 模型）
- 日志记录系统（structured logging）
- 异常处理机制（standard error responses）

**新增内容：**
- 分类算法服务（`sector_classification_service.py`）
- 分类结果数据模型
- API 端点实现
- 前端路由页面
- 帮助文档组件

**开发注意事项：**
- 遵循现有代码风格和规范
- 使用现有的 TypeScript/Python 类型定义
- 遵循现有的 Git 工作流
- 确保与现有系统的兼容性
- 编写单元测试和集成测试

---

## Project Scoping & Phased Development

### MVP Strategy & Philosophy

**MVP 方法：** Experience MVP - 交付核心用户体验，让用户能够快速获取价值（板块分类可视化），同时保持功能精简可靠。

**MVP 哲学：**
- **功能精简**：只保留绝对核心功能，确保快速交付
- **体验优先**：核心用户流程必须流畅（查看分类 → 排序 → 搜索）
- **质量保证**：宁可少做功能，也要保证稳定性
- **快速迭代**：2-3 周 MVP，然后根据反馈快速改进

**资源需求：**
- **团队规模**：1-2 人（1 全栈 + 1 兼顾测试/部署）
- **技能要求**：React/Next.js、FastAPI、PostgreSQL、基础测试
- **开发周期**：2-3 周 MVP

### MVP Feature Set (Phase 1)

**核心用户旅程支持：**
- Journey 1：投资者查看板块分类
- Journey 3：管理员配置和监控基础功能

**必须具备的能力：**

**P0（发布前必须）：**
1. **分类算法实现**
   - 板块强弱分类算法（基于8条均线）
   - 反弹/调整状态判断（当前 vs 5天前）
   - 单元测试覆盖率 > 90%

2. **前端页面**
   - 板块强弱分类页面（`/sector-classification`）
   - 显示所有板块及其分类（第1类 ~ 第9类）
   - 按分类排序（升序/降序）
   - 按板块名称搜索
   - 显示板块基础信息（当前价格、涨跌幅、状态）
   - 帮助文档/说明弹窗

3. **API 接口**
   - `GET /api/sector-classification` - 获取所有板块分类
   - `GET /api/sector-classification/{sector_id}` - 获取单个板块分类详情
   - 集成现有 JWT 认证中间件

4. **管理员功能（基础）**
   - 分类参数查看（均线周期、判断基准天数）
   - 分类算法测试按钮
   - 运行状态监控（最近计算时间、耗时）

5. **合规与安全**
   - 所有页面标注"数据仅供参考，不构成投资建议"
   - 免责声明和风险提示
   - 用户认证和授权
   - 操作审计日志（管理员操作）

**数据范围：**
- 现有板块数据（15个板块）
- 8条均线（5, 10, 20, 30, 60, 90, 120, 240）
- 历史数据回溯：使用现有数据（60天+）

**技术范围：**
- 前端：Next.js + TypeScript + shadcn/ui + Tailwind CSS
- 后端：FastAPI + Python + SQLAlchemy + PostgreSQL
- 测试：单元测试 + 集成测试
- 部署：集成到现有 Docker 容器

**MVP 不包含：**
- ❌ 个股分类（阶段 2）
- ❌ 历史趋势图表（阶段 2）
- ❌ 分类变化预警（阶段 2）
- ❌ 移动端优化（阶段 2+）
- ❌ 高级筛选（阶段 3）
- ❌ 板块轮动预测（阶段 3）

### Post-MVP Features

**阶段 2 (Growth - 发布后 1-2 个月)：**

**增强用户体验：**
1. 个股强弱分类（扩展到个股）
2. 历史分类趋势图表（板块分类历史变化）
3. 分类变化预警（当板块分类升级/降级时通知）
4. 移动端优化（响应式改进）

**性能优化：**
1. 数据缓存优化（Redis 或应用级缓存）
2. 异步计算优化（后台任务队列）
3. 数据库查询优化

**管理功能增强：**
1. 分类历史记录查询
2. 分类异常监控面板
3. 批量数据修正工具

**阶段 3 (Expansion - 发布后 3-6 个月)：**

**高级分析功能：**
1. 板块内成分股分类分布分析
2. 自动生成分类分析报告
3. 与现有强度评分的融合分析
4. 基于分类的板块轮动预测（探索性）

**平台功能：**
1. API 开放（第三方集成）
2. 数据导出功能（CSV, Excel）
3. 自定义均线周期配置
4. 分类权重自定义

### Risk Mitigation Strategy

**技术风险：**

| 风险 | 缓解措施 |
|------|----------|
| 分类算法正确性 | 单元测试覆盖率 > 90%，人工验证测试用例 |
| 性能问题 | 异步计算、缓存机制、性能监控 |
| 数据集成问题 | 复用现有数据模式，充分测试 |
| 兼容性问题 | 遵循现有架构模式，代码规范 |

**市场风险：**

| 风险 | 缓解措施 |
|------|----------|
| 用户不接受分类逻辑 | MVP 快速验证，收集用户反馈 |
| 用户误解为投资建议 | 明确免责声明、帮助文档、风险提示 |
| 使用率低于预期 | 分析用户行为，优化用户体验 |

**资源风险：**

| 风险 | 缓解措施 |
|------|----------|
| 开发时间超期 | 严格 MVP 范围控制，P2 功能全部后置 |
| 团队成员变动 | 代码文档化、知识共享、模块化设计 |
| 测试资源不足 | 核心路径测试覆盖，自动化测试 |

**范围蔓延控制：**
- 严格的变更评估流程
- 新功能必须通过"是否对 MVP 至关重要"测试
- 所有阶段 2+ 功能记录到待办列表，不分散 MVP 精力

---

## Functional Requirements

### 板块分类查看

- **FR1**: 用户可以查看所有板块的强弱分类结果
- **FR2**: 用户可以查看每个板块的分类级别（第1类~第9类）
- **FR3**: 用户可以查看每个板块的反弹/调整状态
- **FR4**: 用户可以查看板块的基础信息（当前价格、涨跌幅）

### 数据展示与交互

- **FR5**: 用户可以按分类级别对板块列表进行排序（升序/降序）
- **FR6**: 用户可以按板块名称进行搜索
- **FR7**: 用户可以查看数据最后更新时间
- **FR8**: 用户可以手动触发数据刷新

### 帮助与说明

- **FR9**: 用户可以查看板块分类的说明文档
- **FR10**: 用户可以查看分类级别含义说明（第1类~第9类代表什么）
- **FR11**: 用户可以查看反弹/调整状态的含义说明
- **FR12**: 系统在所有分类结果页面显示风险提示和免责声明

### 分类计算

- **FR13**: 系统可以根据板块当前价格相对于8条均线的位置计算分类（第1类~第9类）
- **FR14**: 系统可以根据当前价格与5天前价格的对比判断反弹/调整状态
- **FR15**: 系统可以计算所有板块的分类结果

### API 接口

- **FR16**: 开发者可以通过 API 获取所有板块的分类数据
- **FR17**: 开发者可以通过 API 获取单个板块的分类详情
- **FR18**: API 接口支持用户认证和授权

### 管理员功能

- **FR19**: 管理员可以查看分类参数配置（均线周期、判断基准天数、分类数量）
- **FR20**: 管理员可以测试分类算法
- **FR21**: 管理员可以查看分类计算的运行状态（计算时间、耗时）
- **FR22**: 管理员可以查看操作审计日志

### 合规与安全

- **FR23**: 系统在所有页面显示免责声明
- **FR24**: 系统记录所有管理员操作到审计日志
- **FR25**: 系统验证用户身份后才允许访问功能

### 错误处理

- **FR26**: 系统在分类计算失败时显示明确的错误提示
- **FR27**: 系统在数据缺失时显示明确的错误提示
- **FR28**: 系统在 API 错误时显示友好的错误消息和重试选项

---

## Non-Functional Requirements

### Performance

**响应时间要求：**

- **NFR-PERF-001**: 页面首次加载（FCP）< 1.5秒
- **NFR-PERF-002**: API 响应时间（p95）< 200ms
- **NFR-PERF-003**: 分类计算时间 < 200ms（15个板块）
- **NFR-PERF-004**: 搜索/排序响应 < 100ms

**性能监控：**

- **NFR-PERF-005**: 系统应监控关键性能指标（页面加载、API 响应、分类计算）

### Security

**认证与授权：**

- **NFR-SEC-001**: 系统应使用 JWT 进行用户身份验证（复用现有系统）
- **NFR-SEC-002**: 管理员功能必须有基于角色的访问控制（RBAC）
- **NFR-SEC-003**: 非管理员用户无法访问管理员功能

**数据保护：**

- **NFR-SEC-004**: 数据传输应使用 HTTPS/TLS 加密
- **NFR-SEC-005**: 用户密码不得以明文存储或传输

**操作审计：**

- **NFR-SEC-006**: 系统应记录所有管理员操作到审计日志
- **NFR-SEC-007**: 审计日志应包含操作人、时间、操作内容
- **NFR-SEC-008**: 审计日志应保留至少 6 个月

### Scalability

**用户规模：**

- **NFR-SCALE-001**: 系统应支持至少 10 个并发用户
- **NFR-SCALE-002**: 系统应支持至少 100 个注册用户

**数据规模：**

- **NFR-SCALE-003**: 系统应支持至少 50 个板块的分类计算

### Reliability

**可用性：**

- **NFR-REL-001**: 系统可用性目标 > 99%

**数据可靠性：**

- **NFR-REL-002**: 分类算法准确率 = 100%
- **NFR-REL-003**: 数据缺失时系统应显示明确的错误提示

**错误处理：**

- **NFR-REL-004**: 系统应在所有 API 错误时显示友好提示
- **NFR-REL-005**: 系统应在网络错误时提供重试选项

### Integration

**系统集成：**

- **NFR-INT-001**: 系统应与现有用户认证系统集成（JWT）
- **NFR-INT-002**: 系统应与现有 PostgreSQL 数据库集成
- **NFR-INT-003**: 系统应与现有数据更新流程集成

**数据集成：**

- **NFR-INT-004**: 系统应从现有日线数据表读取价格数据
- **NFR-INT-005**: 系统应从现有均线数据表读取均线值

### Accessibility

**基本可访问性：**

- **NFR-ACC-001**: 系统应确保颜色对比度可接受
- **NFR-ACC-002**: 系统应提供键盘导航支持
- **NFR-ACC-003**: 表单元素有明确的 label
- **NFR-ACC-004**: 错误提示清晰可见

---

*文档版本: 1.1*
*最后更新: 2026-01-19*
